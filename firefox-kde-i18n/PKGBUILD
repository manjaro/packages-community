# $Id$
# Maintainer : Ramon Buldó <ramon@manjaro.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-kde-i18n
pkgver=53.0.2
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmål)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'  
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=http://download.cdn.mozilla.net/pub/firefox/releases/$pkgver/linux-i686/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-kde-i18n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  __locale=$1
  conflicts=("firefox-i18n-${__locale,,}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('d42fc1effcbd158dfad8048a7f787c8b'
         'f94c7706a9bc78caafa1d4bdeb950fdc'
         '259478baab059dad13968739b8eb415b'
         '9b58fc0f1ef13afd317eb798651ab610'
         'afc1e8b6e72e6b450cf8fa791f4d1eca'
         '56ad3055b77aaa114466ffe925c48c58'
         '504da0a5f0050b2fb65807ac5dfc5e0b'
         '5b19ed1ffec62866cf2c2e6a7b87634c'
         '05d32c927aec37cb5b84440a7d285bf5'
         'fde8b1c6581c8cd665eee85cdba78179'
         'ca32da604369a21c462a7274983174d5'
         'a990a1a432a8d7654257ad961b8d14c8'
         'd74b693029cbbb01fbc04d234a6c2ba7'
         '9abdda7fc99e123c3d52116d1d73de56'
         'e675847a7ab3f646736639ba86422074'
         'dadcb79fbd11112a199cba3be776b457'
         '5ed257acdaaff1e65dec5deb30847b58'
         '9dacea7e3c2680065f93ecffc1abb270'
         'c09749edaece3d32a79e06c259cf43ee'
         'ae48ef3a5dcfc1f005035afe107e180f'
         '048ca9d70f31cd89aad5bc0083ce2c9e'
         '8ececc6669ffc05b78c114435d575aa6'
         '8843ea62686781caae63fb73895ace71'
         'ff275fd68168ac3c70e91fd5b9e2df4d'
         '6c4c3e46947da1e649ac81acee1c3720'
         '75644787598f7368e78d83c33be6539a'
         '84ed87d7b49361ea0809e4d5fa9ebb01'
         'bc1b164e92c8bb3bbc1c69ec27da8d0e'
         '3674b17fa54c45606308be0e509c8942'
         '1422d9cecb1fa5035d2b49c6da2a3537'
         '7472d4ac6a41b8d1725d811e9ab9a7ff'
         '1fc15ca2407ac01f84b8645edbafbf85'
         'f4415ea1f61e784a7eff050806f97782'
         '0c9a745cd3c4c1c8281faa43045cda47'
         'f49301455b107e2fa364fd29786d8690'
         'a274cd2fec508eb393408ae9468981eb'
         '9b586bc122b788e90806f4eb13842e99'
         '150a78928a044e837895511d38e0fd87'
         'f5be689ff830f67f216ad74395f4448d'
         '98927a792aa25d71564e3fd48dfd7bfe'
         'e28c46004cd705fc24e3b2e81a8d4d3d'
         '692e64efe622b352a6f5e7ded715c785'
         '93d05f6148c5eaaa23ce03defeadf8e7'
         '28d8f5dde415d549685a5c0f9ed8f92b'
         '4d747a25f58493f5e93537a8495d2374'
         '71cd6b55a80bb570571f4720bf86397d'
         'fcffebaf543dcb76a07a14557314c049'
         '046b2f62f46aafe340f939c45c19923c'
         'b485af1e58d6691831531cc7fae6961c'
         '3d5958b8041ccaa5c4619ca8d08bda7c'
         'dd8bcd8078f89d18cc918240fd5d1ae9'
         '5b887795b1b07534dd0003a02f6fc71e'
         '7eba05b59d17bbdf1d6fdcac09ba54d0'
         '5146d9a356f2f3cc7b0b4b0ccb38fb37'
         '95fd4a0268528ee4d80122913234bb62'
         '3dc22de04df3ab8828dc5051495da654'
         '291af7a63720a346d6b65077121d53fc'
         '7491b2692fa873759e4011dd813e6642'
         '5dba40bb354fad21f13fac8c2abd352f'
         '7a58a327094afaf96906a8b8b5b3801d'
         '250a996ec5cce5a899be504e1d6f8529'
         '10e27879847db3bbcf6bc6c05590dee4'
         'c48240f9aeb2a6d29341aaf9623db21a'
         '91b29c620877223614a0e109e7559ba4'
         '4740b109010dcbf8c1b2cb48edb9f2c1'
         'c8bcf1cfe71e28b0d994d6142c6ac5aa'
         'c6394c491cb6bf8c6292fe3cb03a7750'
         'd0b31fc72277256737dfce7e7b147ee4'
         'c6ed6aad634ab775ae7130dc08796814'
         '4b274d3a7bd8485c670bdab4f996dead'
         'c84939ed6f1210b64db5498a3790174b'
         'c02f5a31e7ddabd9eddff01e718f865d'
         '1a79f4603b1dabc45883dc20c3ef0d28'
         '4ee2775bf496dd76b544d6268a31a6fb'
         'c6edf4e182e03e63d7d8c1838889af58'
         '50f7539cdbdcc41dd380e39bab337482'
         '83cd350c599b4ce282abf40c520713d0'
         'e57d2db260e9d103943fa0ee338d5b04'
         '78a2f6beaa1e74e4b472de8f0f344112'
         'f530fbf15b03d1e6d4eafbf1025f65c4'
         '223ab50312634c52a36df3bb2306e782'
         '247a70f57521c96b5f8fbf81b2454e4e'
         '65d4d2c12f4e307405cd51168ee73148'
         'c59541104de8a3203932e566c402d4a6'
         '8f14b0cd7993fc3acb6db7f9de691c97')
