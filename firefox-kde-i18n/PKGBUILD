# $Id$
# Maintainer : Ramon Buldó <ramon@manjaro.org>
# Contributor: Thomas Baechler <thomas@archlinux.org>
# Contributor: Jaroslaw Swierczynski <swiergot@juvepoland.com>
# Contributor: Michal Hybner <dta081@gmail.com>
# Contributor: Andrea Scarpino <andrea@archlinux.org>

pkgbase=firefox-kde-i18n
pkgver=57.0
pkgrel=1
pkgdesc="Language pack for Firefox"
arch=('any')
url="http://www.mozilla.com/"
license=('MPL' 'GPL')

_languages=(
  'ach    "Acholi"'
  'af     "Afrikaans"'
  'an     "Aragonese"'
  'ar     "Arabic"'
  'as     "Assamese"'
  'ast    "Asturian"'
  'bg     "Bulgarian"'
  'bn-BD  "Bengali (Bangladesh)"'
  'br     "Breton"'
  'bs     "Bosnian"'
  'ca     "Catalan"'
  'cak    "Maya Kaqchikel"'
  'cs     "Czech"'
  'cy     "Welsh"'
  'da     "Danish"'
  'de     "German"'
  'el     "Greek"'
  'en-GB  "English (British)"'
  'en-US  "English (US)"'
  'en-ZA  "English (South African)"'
  'eo     "Esperanto"'
  'es-AR  "Spanish (Argentina)"'
  'es-CL  "Spanish (Chile)"'
  'es-ES  "Spanish (Spain)"'
  'es-MX  "Spanish (Mexico)"'
  'et     "Estonian"'
  'eu     "Basque"'
  'fa     "Persian"'
  'ff     "Fulah"'
  'fi     "Finnish"'
  'fr     "French"'
  'fy-NL  "Frisian"'
  'ga-IE  "Irish"'
  'gd     "Gaelic (Scotland)"'
  'gl     "Galician"'
  'gn     "Guarani"'
  'gu-IN  "Gujarati"'
  'he     "Hebrew"'
  'hi-IN  "Hindi (India)"'
  'hr     "Croatian"'
  'hu     "Hungarian"'
  'hy-AM  "Armenian"'
  'id     "Indonesian"'
  'is     "Icelandic"'
  'it     "Italian"'
  'ja     "Japanese"'
  'kk     "Kazakh"'
  'km     "Khmer"'
  'kn     "Kannada"'
  'ko     "Korean"'
  'lij    "Ligurian"'
  'lt     "Lithuanian"'
  'lv     "Latvian"'
  'mai    "Maithili"'
  'mk     "Macedonian"'
  'ml     "Malayalam"'
  'mr     "Marathi"'
  'nb-NO  "Norwegian (Bokmål)"'
  'nl     "Dutch"'
  'nn-NO  "Norwegian (Nynorsk)"'
  'or     "Oriya"'
  'pa-IN  "Punjabi"'
  'pl     "Polish"'
  'pt-BR  "Portuguese (Brazilian)"'
  'pt-PT  "Portuguese (Portugal)"'
  'rm     "Romansh"'
  'ro     "Romanian"'
  'ru     "Russian"'
  'si     "Sinhala"'
  'sk     "Slovak"'
  'sl     "Slovenian"'
  'son    "Songhai"'  
  'sq     "Albanian"'
  'sr     "Serbian"'
  'sv-SE  "Swedish"'
  'ta     "Tamil"'
  'te     "Telugu"'
  'th     "Thai"'
  'tr     "Turkish"'
  'uk     "Ukrainian"'
  'ur "Urdu"'
  'uz     "Uzbek"'
  'vi     "Vietnamese"'
  'xh     "Xhosa"'
  'zh-CN  "Chinese (Simplified)"'
  'zh-TW  "Chinese (Traditional)"'
)

pkgname=()
source=()
_url=https://ftp.mozilla.org/pub/firefox/releases/$pkgver/linux-x86_64/xpi

for _lang in "${_languages[@]}"; do
  _locale=${_lang%% *}
  _pkgname=firefox-kde-i18n-${_locale,,}
  
  pkgname+=($_pkgname)
  source+=("firefox-i18n-$pkgver-$_locale.xpi::$_url/$_locale.xpi")
  eval "package_$_pkgname() {
    _package $_lang
  }"
done

# Don't extract anything
noextract=(${source[@]%%::*})

_package() {
  pkgdesc="$2 language pack for Firefox"
  depends=("firefox>=$pkgver")
  __locale=$1
  conflicts=("firefox-i18n-${__locale,,}")
  install -Dm644 firefox-i18n-$pkgver-$1.xpi \
    "$pkgdir/usr/lib/firefox/browser/extensions/langpack-$1@firefox.mozilla.org.xpi"
}

md5sums=('016f1fa7bdc161c6f6b10f8605b81328'
         '69ac440fba8a4421803ee6387be8bda6'
         '8a6d80d8975c8a55facd5929fe7436be'
         'b8cc1526747811abcfec8321de4d46fd'
         '1b39a6b94f817e0eb592ae80d1326634'
         'abcd258fcc22a73c32f10ef2876139b8'
         'd34df6aabbe5119fbdac9a21ca9d6ef5'
         'bc47e0974fc5ab38681f47e54d02fd61'
         '8802f7f9dd16a4f1be28e1865f4b36dd'
         '45f5376e2e6b9613dcd0419cf4420874'
         '3467858cf04c92b0bd50ba4cfb2387ad'
         'c7dc749189b198df0bfe58214925607c'
         '55dfbc8f5dbe3f2e6c8990abca483556'
         '304c4d8f8ccab9499eda8d304ffb572e'
         '848fb6c00a0a975c816e75fe072fe169'
         'c7968a1361676dc36daa55647df024d2'
         '09e294d0436503e06ea9c95a4ff6d140'
         '878ecb414ddebe8fa26f72c98d11673e'
         '49a98adf2baf273376603cc08d8f030d'
         '050c76709af499d057c0851fedd710b2'
         'da39a76a8c66fa1f25f15af0a9c2c664'
         'e3a3070880cb74410ed5410f90f13176'
         '0faf8c30f8cfd18464b91c4194faf92e'
         'd74c7ea5a29c3db31a6e40f9c584ba0b'
         '1f01b40cf62e915c30cde76ece799a2f'
         '02ad405a67784fbd442f73b54eb38320'
         'e770fa980b6a2b9fa76857b9431d1a83'
         '999eec9ce50fcd3de9889283036c1e08'
         'af24f91a37c2df906f5ec20cb67442c6'
         'dcfc11d73c0b15b049d9f841232a6386'
         '46abeebf41ff7cb0cb29ad27fef2d6e7'
         'f5c638286f19da2d19a73760544866f3'
         'b7ecea90b482d3ddeae405134df95420'
         '3f84c8494306fc0dedc1b621aac393cb'
         'd62bd77588e0b2360ec54191d26ad70f'
         'eb9e3d031e9a87cb1c1ad897995f5fec'
         '7dc098425ea6bfc68e415c589cc59862'
         '9742e8e867e6cd20f5d6e79985ffb49a'
         '0b0244730a241564d839724341e5df8a'
         '613e11cbc402f4bc294866649f518272'
         '60b0e4a6990c8267e3e55e358572bf38'
         '06b2cc459a55d6bbac3f54ba25e7a09b'
         'c1108024a3f75f26a0fadacf41c74d66'
         '53915193af3e972f17a05ffd3e2206c3'
         '19ac91c6d643ceb4136997709da2b396'
         '608d86b42b37cab13c24a2e24a6e037a'
         '136c30abde08cde929dc49dc04082016'
         '4ffe88c20fc91bb2ebe3f95611517734'
         'dbe7998852d414d985f7c6bd168a3698'
         '677845d4300b3fa194bf787c97c4b7fd'
         '9e521356aa6672bcf2e843afb8d94cf1'
         '6a340dd567adbdfc9bc3ada3e92844ee'
         '6e34bc76a95bacd4e0a196ce15384481'
         '752d86a12efc30904f598a7ed0a29c22'
         'a1e766b01e42e531230c37fc52cd7b38'
         '334aee7cad1bb2c6d4bf5b2132105c4f'
         '51d985463b5b347ca6d71d1f4e63be7b'
         'b00af135212fb2cdd25b1556ebee9801'
         'ca5fd279c225539c4e1e103d637d81cf'
         'c117452c15348ad9dc2cd87455efb72b'
         '3755995774271d37568e638c5feba5ac'
         '13f2a0b5e9c7905ba6b4a318e0095ce6'
         'da4513806ab2e30495b080367b5209a4'
         'f65186225fc1b44959fabe4b0650be00'
         '04bf439fd5f63bd467f3150067ad51bd'
         'ffb770f5ee6fc5026965a5c3c57fe054'
         'd19ee8a9d7a6330006a16d7370aac34e'
         '4b4491e0cbfec8cfafccbf1001777969'
         '7590c5a8f7fd49202fbb6b10d5851c70'
         'e29db2b300d480228d4bd3e917304344'
         'a2986ecee99666fee53c4d6eccd1ea0a'
         '1b30662e5d159c8bb982dabb9c554478'
         '03879d7ade2da359acd88d0fdea391e1'
         '7ca588d8100ef3fea982bec90c0e6b9e'
         '729cb9efa802c52b81d768a7dfa384c5'
         'b5258c948444f38036941fc10cafca0f'
         '289f2b27ae46905170b34623e83e959d'
         'df115517cc6a1d69dd3f7a2fedf7d05e'
         '1183cdd49bac88dbfbf7fe9d369ff4e4'
         '599ffc9fc11d37fed599f0dbba0e4a11'
         'dd67b037768725c2754388c6809f7dec'
         '9f752e627279bb968d2a1a6a455ae285'
         'aba1da98f845c1dedb5e6fbc16d09406'
         'c8344dcca6a1644cf00771b224972b43'
         'c0886fc129ba1a04b10b8b3315bb84be'
         '7d46de58ad6148b58f3df11ecb9ec11b')
